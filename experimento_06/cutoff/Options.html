{{ block title }}Decision{{ endblock }}
{{ block content }}
<!DOCTYPE html>
<html>

<head>
    <style>
        datalist {
            display: flex;
            justify-content: space-between;
            color: darkblue;
            width: 80%;
        }

        input {
            width: 80%;
        }
    </style>
</head>

<body>
    <p>
        You are endowed with 0 dollars, and the other is endowed with 0 dollars.
        You have to decide between two outcomes:
    </p>
    <dl>
        <dt>Option 1</dt>
        <dd>You gain 1 dollar and the other gains 10 dollars.</dd>
        <dt>Option 2</dt>
        <dd>You gain 5 dollars and the other gains z dollars, where z = <span id="z_value_display">20</span> dollars</dd>
    </dl>

    {{ formfield "option" }}

    <p>
        Choose a value for z:
    </p>

    <div style="display: none;">
        {{ formfield "z_value" }}
    </div>

    <input type="range" list="tickmarks" id="z_value_range" min="0" max="20" step="1" value="10"
        oninput="updateChart()">

    <datalist id="tickmarks">
        <option value="0" label="a0"></option>
        <option value="1" label="a1"></option>
        <option value="2" label="a2"></option>
        <option value="3" label="a3"></option>
        <option value="4" label="a4"></option>
        <option value="5" label="a5"></option>
        <option value="6" label="a6"></option>
        <option value="7" label="a7"></option>
        <option value="8" label="a8"></option>
        <option value="9" label="a9"></option>
        <option value="10" label="10"></option>
        <option value="11" label="11"></option>
        <option value="12" label="12"></option>
        <option value="13" label="13"></option>
        <option value="14" label="14"></option>
        <option value="15" label="15"></option>
        <option value="16" label="16"></option>
        <option value="17" label="17"></option>
        <option value="18" label="18"></option>
        <option value="19" label="19"></option>
        <option value="20" label="20"></option>
    </datalist>

    <div id="grafico_01"></div>

    {{ next_button }}

    <script src="https://code.highcharts.com/highcharts.js"></script>
    <script type="text/javascript">
        var chart;
        var z_value_range = document.getElementById('z_value_range');
        var z_value_display = document.getElementById('z_value_display');

        document.addEventListener('DOMContentLoaded', function () {
            chart = Highcharts.chart('grafico_01', {
                chart: {
                    type: 'column'
                },
                title: {
                    text: 'Column Chart'
                },
                xAxis: {
                    categories: ['Option 1', 'Option 2']
                },
                series: [
                    {
                        name: 'Yourself',
                        data: [1, 5]
                    },
                    {
                        name: 'Other player',
                        data: [10, 10]
                    }
                ]
            });
        });

        function updateChart() {
            var z_value = parseInt(z_value_range.value);
            z_value_display.textContent = z_value;
            chart.series[1].data[1].update(z_value);
        }
    </script>
</body>

</html>
{{ endblock }}